{% extends "default/layout/layout.html" %}
{% load static %}

{% block title %} Material Handling, Industrial Supplies, Tools, Safety Equipment & More {% endblock %}
{% block canonical_url %}{{request.scheme}}://{{request.META.HTTP_HOST}}{{request.path}}{% endblock %}

{% block ld_json %}
{{home_schema|safe}}
{% endblock %}

{% block content %}

		<!-- BREADCRUMB -->
		<div id="breadcrumb" class="section">
			<!-- container -->
			<div class="container">
				<!-- row -->
				<div class="row">
					<div class="col-md-12">
						<ul class="breadcrumb-tree">
							<li><a href="/">Home</a></li>
							<li><a href="#">Add New Product</a></li>
						</ul>
					</div>
				</div>
				<!-- /row -->
			</div>
			<!-- /container -->
		</div>
		<!-- /BREADCRUMB -->

		<!-- SECTION -->
		<div class="section">
			<!-- container -->
			<div class="container">
				<!-- row -->
				<div class="row">
					<!-- Product main img -->
					<h1>Add New Product</h1>
					<form method="post" enctype="multipart/form-data">
						{% csrf_token %}
						
						<!-- Product Form Fields -->
						{{ form.as_p }}
					
						<!-- Image Upload Fields -->
						<h3>Upload Product Images</h3>
						<div class="formset">
							{{ product_image_formset.management_form }}  <!-- Management form for formset -->
					
							{% for form in product_image_formset %}
								<div class="form-row">
									{{ form.as_p }}  <!-- Render each form in the formset -->
								</div>
							{% endfor %}
						</div>
					
						<button type="submit" class="btn btn-primary">Save Product</button>
					</form>
					
					
				</div>
				<!-- /row -->
			</div>
			<!-- /container -->
		</div>
		<!-- /SECTION -->
{% endblock content %}
{% block extrajs %}
<script>
    document.addEventListener("DOMContentLoaded", function() {
        const brandDropdown = document.getElementById('id_brand');
        const customBrandField = document.getElementById('id_other_brand');

        // Check if "Other" was selected and show the custom brand field
        brandDropdown.addEventListener('change', function() {
            if (brandDropdown.value === '3') {
                customBrandField.style.display = 'block';  // Show custom brand input
            } else {
                customBrandField.style.display = 'none';   // Hide custom brand input
            }
        });

        // Initial check in case "Other" is already selected
        if (brandDropdown.value === '3') {
            customBrandField.style.display = 'block';
        }
    });
</script>
{% endblock extrajs %}
